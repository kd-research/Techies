<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Lexicon Legends</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #2c3e50;
      color: white;
      overflow: hidden;
    }

    .screen {
      display: none;
      width: 100vw;
      height: 100vh;
      position: absolute;
      top: 0;
      left: 0;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 1;
    }

    .active {
      display: flex !important;
    }

    h1, h2, h3 {
      margin: 0;
      padding: 20px;
    }

    button {
      padding: 10px 20px;
      font-size: 20px;
      margin: 10px;
      cursor: pointer;
      background-color: #3498db;
      border: none;
      color: white;
      border-radius: 5px;
    }

    button:hover {
      background-color: #2980b9;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      max-width: 800px;
      text-align: center;
    }

    .class-option-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .class-option {
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
      background-color: #1abc9c;
      border: none;
      color: white;
      border-radius: 5px;
      margin: 10px;
      text-align: center;
    }

    .class-option:hover {
      background-color: #16a085;
    }

    .image-placeholder {
      width: 150px;
      height: 150px;
      border: 2px solid #ecf0f1;
      margin: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      text-align: center;
      background-color: #34495e;
      color: #ecf0f1;
      border-radius: 10px;
    }

    .arrow {
      font-size: 24px;
      cursor: pointer;
      margin: 0 20px;
      user-select: none;
    }

    .arrow:hover {
      color: #f1c40f;
    }

    .customization-row {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
    }

    .bandit-container {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding: 20px;
    }

    .player-container {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      flex-direction: column;
    }

    .bandit, .character {
      width: 150px;
      height: 200px;
      border: 2px solid #ecf0f1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin: 10px;
      background-color: #34495e;
      color: #ecf0f1;
      border-radius: 10px;
      position: relative;
    }

    .countdown {
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 14px;
    }

    .health-bar {
      background-color: #ecf0f1;
      height: 10px;
      width: 100%;
      margin-top: 10px;
      border-radius: 5px;
      overflow: hidden;
    }

    .health-bar-inner {
      height: 100%;
      background-color: #e74c3c;
      width: 100%;
      border-radius: 5px;
    }

    .action-buttons {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      width: 100%;
      flex-wrap: wrap;
    }

    .word-display {
      margin: 10px;
      padding: 10px;
      background-color: #95a5a6;
      font-size: 20px;
      text-align: center;
      border-radius: 5px;
      color: #2c3e50;
      flex: 1;
      min-width: 150px;
      position: relative;
    }

    .word-display h3 {
      margin: 0;
      font-size: 16px;
      color: #2c3e50;
    }

    .player-health-bar {
      background-color: #ecf0f1;
      height: 20px;
      width: 80%;
      margin-top: 10px;
      border-radius: 10px;
      position: relative;
      overflow: hidden;
    }

    .player-health-bar-inner {
      height: 100%;
      background-color: #2ecc71;
      width: 100%;
      border-radius: 10px;
    }

    .player-health-text {
      margin-top: 5px;
      font-size: 16px;
      color: white;
    }

    #word-input {
      margin-top: 20px;
      padding: 10px;
      width: 80%;
      font-size: 18px;
      border: none;
      border-radius: 5px;
    }

    #word-input:focus {
      outline: none;
    }

    .cooldown-timer {
      margin-top: 10px;
      font-size: 14px;
      color: red;
    }

    /* Additional Styles */
    #start-menu-screen h1 {
      font-size: 48px;
      margin-bottom: 40px;
    }

    /* Gold Display Styles */
    #gold-display {
      font-size: 24px;
      margin-top: 20px;
    }

    /* Store Screen Styles */
    .store-item {
      background-color: #34495e;
      border: 2px solid #ecf0f1;
      border-radius: 10px;
      padding: 10px;
      margin: 10px;
      text-align: center;
      width: 200px;
    }

    .store-item h3 {
      margin: 0;
      margin-bottom: 10px;
    }

    .store-item button {
      margin-top: 10px;
    }

    /* Instructions Screen Styles */
    #instructions-screen {
      overflow-y: auto;
    }

    #instructions-content {
      text-align: left;
      max-width: 800px;
    }

    #instructions-content h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    #instructions-content p, #instructions-content ul {
      font-size: 18px;
      line-height: 1.6;
    }

    #instructions-content ul {
      list-style-type: disc;
      padding-left: 40px;
    }

    #back-button {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <!-- Main Menu Screen -->
  <div class="screen active" id="start-menu-screen">
    <div class="container">
      <h1>Lexicon Legends</h1>
      <button id="play-button">Play</button>
      <button id="settings-button">Settings</button>
      <button id="instructions-button">Instructions</button>
    </div>
  </div>

  <!-- Class Selection Screen -->
  <div class="screen" id="class-selection-screen">
    <div class="container">
      <h2>Select Your Class</h2>
      <div class="class-option-container">
        <div class="class-option" id="word-warrior">
          <div class="image-placeholder">Word Warrior</div>
          <p>Wielding a sword made of letters</p>
        </div>
        <div class="class-option" id="spellbinder">
          <div class="image-placeholder">Spellbinder</div>
          <p>Casting spells with words</p>
        </div>
        <div class="class-option" id="rune-rogue">
          <div class="image-placeholder">Rune Rogue</div>
          <p>Quick and agile with runic words</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Character Customization Screen -->
  <div class="screen" id="customization-screen">
    <div class="container">
      <h2>Customize Your Character</h2>

      <div class="customization-row">
        <span class="arrow" id="head-left">&larr;</span>
        <div class="image-placeholder" id="head-image">Head: Helmet</div>
        <span class="arrow" id="head-right">&rarr;</span>
      </div>
      
      <div class="customization-row">
        <span class="arrow" id="body-left">&larr;</span>
        <div class="image-placeholder" id="body-image">Body: Armor</div>
        <span class="arrow" id="body-right">&rarr;</span>
      </div>
      
      <div class="customization-row">
        <span class="arrow" id="legs-left">&larr;</span>
        <div class="image-placeholder" id="legs-image">Legs: Boots</div>
        <span class="arrow" id="legs-right">&rarr;</span>
      </div>

      <button class="class-option" id="customization-done-button">Done</button>
    </div>
  </div>

  <!-- Main Game Screen -->
  <div class="screen" id="main-game-screen">
    <div class="container">
      <h2>World Map</h2>
      <button id="explore-button">Explore</button>
      <button id="visit-town-button">Visit Town</button>
      <div id="gold-display">Gold: 0</div>
      <!-- You can add stats or other elements here -->
    </div>
  </div>

  <!-- Store Screen -->
  <div class="screen" id="store-screen">
    <div class="container">
      <h2>Item Store</h2>
      <div id="store-items-container">
        <!-- Store items will be added here dynamically -->
      </div>
      <button id="leave-store-button">Leave Store</button>
    </div>
  </div>

  <!-- Bar Scene Screen -->
  <div class="screen" id="bar-scene">
    <div class="bandit-container">
      <div class="bandit" id="bandit1">
        <div class="countdown" id="bandit1-countdown">Countdown: 5</div>
        <div>Bandit 1</div>
        <div class="health-bar">
          <div class="health-bar-inner" id="bandit1-health"></div>
        </div>
      </div>
    </div>

    <div class="player-container">
      <div class="character" id="player-character">
        <div>Player</div>
      </div>
      <div class="player-health-bar">
        <div class="player-health-bar-inner" id="player-health-bar-inner"></div>
      </div>
      <div class="player-health-text" id="player-health-text">Health: 100</div>
    </div>

    <div class="action-buttons" id="action-buttons">
      <div class="word-display">
        <h3>Left Fist</h3>
        <div id="left-fist-word">Loading...</div>
      </div>
      <!-- Right Fist and Swords actions will be added here dynamically -->
    </div>

    <input type="text" id="word-input" placeholder="Type a word to attack..." />

    <div class="cooldown-timer" id="cooldown-timer"></div>
  </div>

  <!-- Instructions Screen -->
  <div class="screen" id="instructions-screen">
    <div class="container" id="instructions-content">
      <h2>Lexicon Legends Instructions</h2>
      <p><strong>Welcome to Lexicon Legends!</strong> Embark on an epic journey where your vocabulary is your greatest weapon.</p>

      <h3>1. Main Menu</h3>
      <ul>
        <li><strong>Play:</strong> Start your adventure by selecting "Play."</li>
        <li><strong>Settings:</strong> (Currently under development) Customize game preferences.</li>
        <li><strong>Instructions:</strong> View the game rules and instructions to get started.</li>
      </ul>

      <h3>2. Class Selection</h3>
      <p>Choose your path by selecting one of the following classes:</p>
      <ul>
        <li><strong>Word Warrior:</strong> Wield a sword made of letters. Excels in melee combat.</li>
        <li><strong>Spellbinder:</strong> Cast powerful spells using words. Master of ranged attacks.</li>
        <li><strong>Rune Rogue:</strong> Agile and swift with runic words. Expert in stealth and quick strikes.</li>
      </ul>

      <h3>3. Character Customization</h3>
      <p>Customize your hero's appearance:</p>
      <ul>
        <li><strong>Head:</strong> Select different helmets, hoods, or hairstyles.</li>
        <li><strong>Body:</strong> Choose between armor, robes, or stealth suits.</li>
        <li><strong>Legs:</strong> Pick boots, greaves, or light footwear.</li>
      </ul>
      <p><strong>How to Customize:</strong> Click the left or right arrows to cycle through options for each part. Once satisfied, click "Done" to proceed.</p>

      <h3>4. World Map</h3>
      <ul>
        <li><strong>Explore:</strong> Venture into unknown territories and encounter bandits. Engage in battles to earn gold.</li>
        <li><strong>Visit Town:</strong> Access the item store to purchase upgrades and new abilities.</li>
      </ul>

      <h3>5. Combat (Bar Scene)</h3>
      <p>Engage in battles using your vocabulary:</p>
      <ul>
        <li><strong>Word-Based Actions:</strong> Each action button displays a word. Type the correct word to perform the corresponding action.</li>
        <li><strong>Damage Mechanics:</strong> The damage dealt is based on the length of the word multiplied by the action's damage multiplier.</li>
        <li><strong>Health Management:</strong> Monitor your health bar and the bandit's health. Defeat bandits to earn gold and unlock new abilities.</li>
      </ul>

      <h3>6. Item Store</h3>
      <p>Enhance your capabilities:</p>
      <ul>
        <li><strong>Purchasable Items:</strong> Buy items like new swords that utilize different word lists for varied combat strategies.</li>
        <li><strong>Gold Usage:</strong> Spend your earned gold wisely to upgrade your actions and become more formidable.</li>
      </ul>

      <h3>7. Winning the Game</h3>
      <p>While "Lexicon Legends" doesn't have a definitive end, strive to:</p>
      <ul>
        <li><strong>Defeat Bandits:</strong> Continue battling to increase your reputation and wealth.</li>
        <li><strong>Upgrade Abilities:</strong> Unlock and purchase new actions to diversify your combat tactics.</li>
        <li><strong>Become a Legend:</strong> Aim to be the most legendary wordsmith in the realm!</li>
      </ul>

      <button id="back-button">Back</button>
    </div>
  </div>

  <!-- Include Papa Parse Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // DOM Elements
      const playButton = document.getElementById('play-button');
      const classSelectionScreen = document.getElementById('class-selection-screen');
      const customizationScreen = document.getElementById('customization-screen');
      const mainGameScreen = document.getElementById('main-game-screen');
      const storeScreen = document.getElementById('store-screen');
      const barSceneScreen = document.getElementById('bar-scene');
      const playerCharacterElement = document.getElementById('player-character');
      const playerHealthBarInner = document.getElementById('player-health-bar-inner');
      const playerHealthText = document.getElementById('player-health-text');
      const banditHealthBarInner = document.getElementById('bandit1-health');
      const leftFistWordElement = document.getElementById('left-fist-word');
      const wordInputElement = document.getElementById('word-input');
      const actionButtonsContainer = document.getElementById('action-buttons');

      const exploreButton = document.getElementById('explore-button');
      const visitTownButton = document.getElementById('visit-town-button');
      const goldDisplay = document.getElementById('gold-display');

      const storeItemsContainer = document.getElementById('store-items-container');
      const leaveStoreButton = document.getElementById('leave-store-button');

      const instructionsButton = document.getElementById('instructions-button');
      const instructionsScreen = document.getElementById('instructions-screen');
      const backButton = document.getElementById('back-button');

      // Variables
      let selectedClass = '';
      let customizedCharacter = {
        head: 'Helmet',
        body: 'Armor',
        legs: 'Boots',
      };

      const player = {
        health: 100,
        maxHealth: 100,
        gold: 0,
        inventory: [],
      };

      let bandit = {
        id: 'bandit1',
        health: 50,
        maxHealth: 50,
        goldReward: 10, // Amount of gold dropped when defeated
        countdown: 5,
        resetCountdown: 5,
      };

      let leftHandWords = [];
      let rightHandWords = [];
      let homeRowWords = [];
      let homeRowPlusOWords = [];
      // Add additional word lists as needed

      let currentLeftFistWord = '';
      let currentRightFistWord = '';
      let rightFistUnlocked = false;

      let actions = {}; // Stores all available actions

      // Function to fetch and parse the CSV file
      const fetchCSVData = async () => {
        return new Promise((resolve, reject) => {
          Papa.parse('Word_List.csv', {
            download: true,
            header: true,
            complete: function(results) {
              resolve(results.data);
            },
            error: function(err) {
              reject(err);
            }
          });
        });
      };

      try {
        const csvData = await fetchCSVData();
        // Extract word lists from CSV columns
        leftHandWords = csvData.map(row => row.left_hand_words).filter(word => word);
        rightHandWords = csvData.map(row => row.right_hand_words).filter(word => word);
        homeRowWords = csvData.map(row => row.home_row_words).filter(word => word);
        homeRowPlusOWords = csvData.map(row => row.home_row_plus_o_words).filter(word => word);
        // Add extraction for additional word lists as needed
      } catch (error) {
        console.error('Error fetching or parsing CSV:', error);
        // Fallback to sample data if CSV fails to load
        leftHandWords = ['asdf', 'qwer', 'zxcv'];
        rightHandWords = ['jkl;', 'uiop', 'mnbv'];
        homeRowWords = ['asdfghjkl', 'sdfg', 'hjkl'];
        homeRowPlusOWords = ['asdfghjklo', 'sdfgo', 'hjklo'];
      }

      // Function to get a random word from a word list
      const getRandomWord = (wordList) => {
        return wordList[Math.floor(Math.random() * wordList.length)];
      };

      // Initialize left fist action
      currentLeftFistWord = getRandomWord(leftHandWords);
      actions['leftFist'] = {
        name: 'Left Fist',
        word: currentLeftFistWord,
        wordList: leftHandWords,
        elementId: 'left-fist-word',
        damageMultiplier: 2,
      };

      // Function to update displayed words
      const updateWordsDisplay = () => {
        for (let actionKey in actions) {
          const action = actions[actionKey];
          const wordElement = document.getElementById(action.elementId);
          if (wordElement) {
            wordElement.textContent = `${action.word}`;
          }
        }
      };

      updateWordsDisplay(); // Initial display of words

      // Function to update player health display
      const updatePlayerHealthDisplay = () => {
        playerHealthText.textContent = `Health: ${player.health}`;

        const healthPercentage = (player.health / player.maxHealth) * 100;
        playerHealthBarInner.style.width = `${healthPercentage}%`;

        if (healthPercentage > 50) {
          playerHealthBarInner.style.backgroundColor = '#2ecc71';
        } else if (healthPercentage > 20) {
          playerHealthBarInner.style.backgroundColor = '#f1c40f';
        } else {
          playerHealthBarInner.style.backgroundColor = '#e74c3c';
        }
      };

      // Function to update bandit's health display
      const updateBanditHealthDisplay = () => {
        const healthPercentage = (bandit.health / bandit.maxHealth) * 100;
        banditHealthBarInner.style.width = `${healthPercentage}%`;

        if (bandit.health <= 0) {
          bandit.health = 0; // Ensure health doesn't go negative
          // Reward player with gold
          player.gold += bandit.goldReward;
          updateGoldDisplay();
          alert(`You defeated the bandit and obtained ${bandit.goldReward} gold!`);

          // Unlock Right Fist if not already unlocked
          if (!rightFistUnlocked) {
            alert('You obtained the Right Fist!');
            unlockRightFist();
          }

          // Return to main game screen after defeating the bandit
          transitionToScreen('bar-scene', 'main-game-screen');
        }
      };

      // Function to update gold display
      const updateGoldDisplay = () => {
        goldDisplay.textContent = `Gold: ${player.gold}`;
      };

      // Function to unlock the Right Fist action
      const unlockRightFist = () => {
        rightFistUnlocked = true;
        currentRightFistWord = getRandomWord(rightHandWords);

        // Add to actions
        actions['rightFist'] = {
          name: 'Right Fist',
          word: currentRightFistWord,
          wordList: rightHandWords,
          elementId: 'right-fist-word',
          damageMultiplier: 2,
        };

        // Create the Right Fist action element
        const rightFistAction = document.createElement('div');
        rightFistAction.classList.add('word-display');

        rightFistAction.innerHTML = `
          <h3>Right Fist</h3>
          <div id="right-fist-word">${currentRightFistWord}</div>
        `;

        actionButtonsContainer.appendChild(rightFistAction);
      };

      // Handle word input for actions and deal damage to the bandit
      wordInputElement.addEventListener('keyup', (event) => {
        if (event.key === 'Enter') {
          const word = wordInputElement.value.toLowerCase();

          let actionPerformed = false;

          for (let actionKey in actions) {
            const action = actions[actionKey];
            if (word === action.word.toLowerCase()) {
              console.log(`Player used ${action.name}!`);
              bandit.health -= word.length * action.damageMultiplier; // Deal damage
              action.word = getRandomWord(action.wordList); // Get a new word
              actionPerformed = true;
              break; // Only allow one action per input
            }
          }

          if (!actionPerformed) {
            console.log("Invalid word.");
          }

          updateWordsDisplay();
          updateBanditHealthDisplay(); // Update bandit's health display
          wordInputElement.value = ''; // Clear input field
        }
      });

      // Screen Transition Function
      const transitionToScreen = (fromScreenId, toScreenId) => {
        document.getElementById(fromScreenId).classList.remove('active');
        document.getElementById(toScreenId).classList.add('active');
      };

      // Class Selection Event Listeners
      document.getElementById('word-warrior').addEventListener('click', () => {
        selectedClass = 'Word Warrior';
        transitionToScreen('class-selection-screen', 'customization-screen');
      });

      document.getElementById('spellbinder').addEventListener('click', () => {
        selectedClass = 'Spellbinder';
        transitionToScreen('class-selection-screen', 'customization-screen');
      });

      document.getElementById('rune-rogue').addEventListener('click', () => {
        selectedClass = 'Rune Rogue';
        transitionToScreen('class-selection-screen', 'customization-screen');
      });

      // Customization Done Button Event Listener
      document.getElementById('customization-done-button').addEventListener('click', () => {
        transitionToScreen('customization-screen', 'main-game-screen');
        playerCharacterElement.innerHTML = `
          <div>${selectedClass}</div>
          <div>Head: ${customizedCharacter.head}</div>
          <div>Body: ${customizedCharacter.body}</div>
          <div>Legs: ${customizedCharacter.legs}</div>
        `;
      });

      // Explore Button Event Listener
      exploreButton.addEventListener('click', () => {
        // Reset bandit's health for a new battle
        bandit.health = bandit.maxHealth;
        updateBanditHealthDisplay();

        // Proceed to the bar scene (combat screen)
        transitionToScreen('main-game-screen', 'bar-scene');
      });

      // Visit Town Button Event Listener
      visitTownButton.addEventListener('click', () => {
        transitionToScreen('main-game-screen', 'store-screen');
        populateStore();
      });

      // Leave Store Button Event Listener
      leaveStoreButton.addEventListener('click', () => {
        transitionToScreen('store-screen', 'main-game-screen');
      });

      // Instructions Button Event Listener
      instructionsButton.addEventListener('click', () => {
        transitionToScreen('start-menu-screen', 'instructions-screen');
      });

      // Back Button in Instructions Screen
      backButton.addEventListener('click', () => {
        transitionToScreen('instructions-screen', 'start-menu-screen');
      });

      // Function to populate the store with items
      const populateStore = () => {
        storeItemsContainer.innerHTML = ''; // Clear previous items

        const storeItems = [
          { name: 'Base Sword', cost: 50, wordListName: 'homeRowWords', description: 'Uses home row words' },
          { name: 'O Sword', cost: 100, wordListName: 'homeRowPlusOWords', description: 'Uses home row + O words' },
          // Add more items as needed
        ];

        storeItems.forEach(item => {
          const itemElement = document.createElement('div');
          itemElement.classList.add('store-item');
          itemElement.innerHTML = `
            <h3>${item.name}</h3>
            <p>${item.description}</p>
            <p>Cost: ${item.cost} Gold</p>
            <button id="buy-${item.name.replace(/\s+/g, '-').toLowerCase()}">Buy</button>
          `;
          storeItemsContainer.appendChild(itemElement);

          // Add event listener for the buy button
          document.getElementById(`buy-${item.name.replace(/\s+/g, '-').toLowerCase()}`).addEventListener('click', () => {
            purchaseItem(item);
          });
        });
      };

      // Function to handle item purchase
      const purchaseItem = (item) => {
        if (player.gold >= item.cost) {
          player.gold -= item.cost;
          updateGoldDisplay();
          alert(`You purchased ${item.name}!`);

          // Add the item to player's inventory
          player.inventory.push(item.name);

          // Unlock the new action
          unlockSwordAction(item.name, item.wordListName);

          // Remove the item from the store
          document.getElementById(`buy-${item.name.replace(/\s+/g, '-').toLowerCase()}`).disabled = true;
          document.getElementById(`buy-${item.name.replace(/\s+/g, '-').toLowerCase()}`).textContent = 'Purchased';
        } else {
          alert('You do not have enough gold.');
        }
      };

      // Function to unlock sword actions
      const unlockSwordAction = (swordName, wordListName) => {
        const wordList = window[wordListName];
        const actionKey = swordName.replace(/\s+/g, '').toLowerCase();
        const elementId = `${actionKey}-word`;

        actions[actionKey] = {
          name: swordName,
          word: getRandomWord(wordList),
          wordList: wordList,
          elementId: elementId,
          damageMultiplier: 3, // Swords do more damage
        };

        // Create the sword action element
        const swordAction = document.createElement('div');
        swordAction.classList.add('word-display');

        swordAction.innerHTML = `
          <h3>${swordName}</h3>
          <div id="${elementId}">${actions[actionKey].word}</div>
        `;

        actionButtonsContainer.appendChild(swordAction);
      };

      // Character Customization Logic
      const headImage = document.getElementById('head-image');
      const bodyImage = document.getElementById('body-image');
      const legsImage = document.getElementById('legs-image');
      let currentSelections = { head: 0, body: 0, legs: 0 };

      const options = {
        head: ['Helmet', 'Hood', 'Hair Style'],
        body: ['Armor', 'Robes', 'Stealth Suit'],
        legs: ['Boots', 'Greaves', 'Light Footwear']
      };

      const cycleOption = (type, direction) => {
        const currentIndex = currentSelections[type];
        const newIndex = (currentIndex + direction + options[type].length) % options[type].length;
        currentSelections[type] = newIndex;

        if (type === 'head') {
          headImage.textContent = `Head: ${options.head[newIndex]}`;
          customizedCharacter.head = options.head[newIndex];
        } else if (type === 'body') {
          bodyImage.textContent = `Body: ${options.body[newIndex]}`;
          customizedCharacter.body = options.body[newIndex];
        } else if (type === 'legs') {
          legsImage.textContent = `Legs: ${options.legs[newIndex]}`;
          customizedCharacter.legs = options.legs[newIndex];
        }
      };

      document.getElementById('head-left').addEventListener('click', () => cycleOption('head', -1));
      document.getElementById('head-right').addEventListener('click', () => cycleOption('head', 1));
      document.getElementById('body-left').addEventListener('click', () => cycleOption('body', -1));
      document.getElementById('body-right').addEventListener('click', () => cycleOption('body', 1));
      document.getElementById('legs-left').addEventListener('click', () => cycleOption('legs', -1));
      document.getElementById('legs-right').addEventListener('click', () => cycleOption('legs', 1));

      // Play Button Event Listener
      playButton.addEventListener('click', () => {
        transitionToScreen('start-menu-screen', 'class-selection-screen');
      });

      updatePlayerHealthDisplay(); // Initial health display
      updateBanditHealthDisplay(); // Initial bandit health display
      updateGoldDisplay(); // Initial gold display
    });
  </script>
</body>
</html>
